<!DOCTYPE html>
<html>

<head>
  <title>JavaScript 正则表达式基础 Demo</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      padding: 20px;
    }

    pre {
      background: #f4f4f4;
      padding: 10px;
      border-radius: 5px;
    }

    .note {
      background: #fffde7;
      padding: 15px;
      border-left: 4px solid #ffd600;
      margin: 20px 0;
    }

    .output-box {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 4px;
      padding: 15px;
      margin: 10px 0;
    }

    .match {
      color: green;
      font-weight: bold;
    }

    .no-match {
      color: red;
    }
  </style>
</head>

<body>
  <h1>JavaScript 正则表达式基础</h1>

  <div class="note">
    <h3>正则表达式基本语法</h3>
    <ul>
      <li>创建方式
        <ul>
          <li>字面量: /pattern/flags</li>
          <li>构造函数: new RegExp("pattern", "flags")</li>
        </ul>
      </li>
      <li>常用模式
        <ul>
          <li>字符匹配: [abc], [^abc], \d, \w, \s</li>
          <li>量词: *, +, ?, {n}, {n,}, {n,m}</li>
          <li>边界: ^, $, \b, \B</li>
        </ul>
      </li>
      <li>常用方法
        <ul>
          <li>test(): 测试是否匹配</li>
          <li>exec(): 执行匹配</li>
          <li>match(): 字符串匹配</li>
          <li>replace(): 字符串替换</li>
        </ul>
      </li>
    </ul>
  </div>

  <h2>正则表达式示例</h2>
  <pre>
// 1. 创建正则表达式
const regex1 = /hello/i; // 不区分大小写
const regex2 = new RegExp("world", "i");

// 2. 测试方法
const str = "Hello World!";
const test1 = regex1.test(str); // true
const test2 = regex2.test(str); // true

// 3. 匹配方法
const match1 = str.match(regex1); // ["Hello"]
const match2 = str.match(regex2); // ["World"]

// 4. 替换方法
const replaced = str.replace(/world/i, "JavaScript"); // "Hello JavaScript!"

// 5. 常用模式示例
const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
const phoneRegex = /^1[3-9]\d{9}$/;
    </pre>

  <script>
    // 测试字符串
    const testStrings = [
      "Hello World!",
      "test@example.com",
      "13800138000",
      "12345",
      "2023-01-01"
    ];

    // 正则表达式
    const regexList = [
      { name: "字母H开头", pattern: /^H/i },
      { name: "电子邮箱", pattern: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/ },
      { name: "手机号", pattern: /^1[3-9]\d{9}$/ },
      { name: "数字", pattern: /^\d+$/ },
      { name: "日期", pattern: /^\d{4}-\d{2}-\d{2}$/ }
    ];

    // 生成测试结果
    let testResults = "";
    testStrings.forEach(str => {
      testResults += `<h3>测试字符串: "${str}"</h3><ul>`;
      regexList.forEach(regex => {
        const result = regex.pattern.test(str);
        testResults += `<li class="${result ? 'match' : 'no-match'}">${regex.name}: ${result}</li>`;
      });
      testResults += "</ul>";
    });

    document.write(`
            <div class="output-box">
                <h2>正则表达式测试结果</h2>
                ${testResults}
            </div>
            <div class="output-box">
                <h3>字符串替换示例</h3>
                <p>原字符串: "Hello World!"</p>
                <p>替换后: "${"Hello World!".replace(/world/i, "JavaScript")}"</p>
            </div>
        `);
  </script>
</body>

</html>
